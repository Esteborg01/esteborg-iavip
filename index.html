<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Esteborg IA ¬∑ Entrenamiento ejecutivo en IA aplicada</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root { color-scheme: dark; }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      height: 100%;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Inter", sans-serif;
      background: radial-gradient(circle at top, #28224b 0, #050509 55%, #020208 100%);
      color: #f9fafb;
      -webkit-font-smoothing: antialiased;
    }

    #app {
      min-height: 100vh;
      display: flex;
      align-items: stretch;
      justify-content: center;
      padding: 24px 16px;
    }

    .shell {
      width: 100%;
      max-width: 960px;
      margin: 0 auto;
      border-radius: 24px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      background:
        radial-gradient(circle at top left, rgba(94, 234, 212, 0.12), transparent 48%),
        radial-gradient(circle at bottom right, rgba(129, 140, 248, 0.18), transparent 52%),
        linear-gradient(to bottom right, rgba(15, 23, 42, 0.96), rgba(15, 23, 42, 1));
      box-shadow:
        0 22px 60px rgba(15, 23, 42, 0.95),
        0 0 0 1px rgba(148, 163, 184, 0.35);
      padding: 18px 18px 16px;
      display: flex;
      flex-direction: column;
      gap: 16px;
      position: relative;
      overflow: hidden;
    }

    .shell::before {
      content: "";
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at 12% 0, rgba(244, 114, 182, 0.12), transparent 55%),
        radial-gradient(circle at 85% 0, rgba(56, 189, 248, 0.18), transparent 58%);
      opacity: 0.8;
      mix-blend-mode: screen;
      pointer-events: none;
    }

    .shell::after {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: 24px;
      background: radial-gradient(circle at 50% -20%, rgba(148, 163, 184, 0.32), transparent 60%);
      mix-blend-mode: soft-light;
      opacity: 0.35;
      pointer-events: none;
    }

    .shell > * {
      position: relative;
      z-index: 1;
    }

    .banner-header {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .banner-avatar {
      width: 40px;
      height: 40px;
      border-radius: 12px;
      background: radial-gradient(circle at 30% 0, #a855f7, #4f46e5);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      font-size: 20px;
      letter-spacing: 0.08em;
      color: #f9fafb;
      box-shadow:
        0 0 0 1px rgba(129, 140, 248, 0.6),
        0 10px 30px rgba(59, 130, 246, 0.5);
    }

    .banner-title {
      display: flex;
      flex-direction: column;
      gap: 3px;
    }

    .banner-title-main {
      font-size: 11px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: #9ca3af;
    }

    .banner-title-sub {
      font-size: 20px;
      font-weight: 650;
      letter-spacing: 0.02em;
      color: #e5e7eb;
    }

    .banner-description {
      margin-top: 2px;
      font-size: 13px;
      line-height: 1.5;
      color: #9ca3af;
      max-width: 760px;
    }

    .panel {
      margin-top: 2px;
      border-radius: 18px;
      border: 1px solid rgba(148, 163, 184, 0.55);
      background:
        radial-gradient(circle at top left, rgba(56, 189, 248, 0.08), rgba(15, 23, 42, 0.98)),
        radial-gradient(circle at bottom right, rgba(129, 140, 248, 0.18), rgba(15, 23, 42, 1));
      box-shadow:
        inset 0 0 0 1px rgba(15, 23, 42, 0.85),
        0 18px 40px rgba(15, 23, 42, 0.85);
      padding: 14px 14px 12px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .panel-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .panel-title {
      font-size: 13px;
      font-weight: 600;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: #e5e7eb;
    }

    .panel-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      border: 1px solid rgba(52, 211, 153, 0.6);
      color: #a7f3d0;
      background: radial-gradient(circle at top left, rgba(16, 185, 129, 0.35), rgba(15, 23, 42, 0.98));
    }
    .panel-badge .dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: radial-gradient(circle at center, #22c55e, #15803d);
      box-shadow: 0 0 12px rgba(34, 197, 94, 0.85);
    }

    .chips-row,
    .content-row {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 8px;
      font-size: 11px;
      color: #9ca3af;
    }

    .chips-label,
    .content-label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: #6b7280;
      margin-right: 2px;
      white-space: nowrap;
    }

    .chip-btn,
    .content-btn {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      padding: 6px 11px;
      font-size: 11px;
      background: radial-gradient(circle at top left, rgba(30, 64, 175, 0.5), rgba(15, 23, 42, 0.96));
      color: #e5e7eb;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      cursor: pointer;
      transition:
        background 0.16s ease,
        border-color 0.16s ease,
        transform 0.08s ease,
        box-shadow 0.16s ease;
      white-space: nowrap;
    }

    .chip-btn.starter {
      border-color: rgba(248, 250, 252, 0.7);
      background: radial-gradient(circle at top left, rgba(251, 191, 36, 0.28), rgba(15, 23, 42, 0.96));
      box-shadow: 0 12px 30px rgba(251, 191, 36, 0.2);
    }

    .chip-btn:hover,
    .content-btn:hover {
      border-color: rgba(248, 250, 252, 0.9);
      background: radial-gradient(circle at top left, rgba(129, 140, 248, 0.52), rgba(15, 23, 42, 0.98));
      transform: translateY(-0.5px);
      box-shadow: 0 12px 30px rgba(129, 140, 248, 0.4);
    }

    .chip-btn:active,
    .content-btn:active {
      transform: translateY(0.5px);
      box-shadow: 0 6px 18px rgba(15, 23, 42, 0.9);
    }

    .chip-btn::after,
    .content-btn::after {
      content: "‚Üó";
      font-size: 9px;
      opacity: 0.7;
    }

    .content-btn {
      background: radial-gradient(circle at top left, rgba(56, 189, 248, 0.22), rgba(15, 23, 42, 0.98));
      border-color: rgba(56, 189, 248, 0.7);
    }

    .content-btn:hover {
      border-color: rgba(96, 165, 250, 0.95);
      background: radial-gradient(circle at top left, rgba(59, 130, 246, 0.42), rgba(15, 23, 42, 0.98));
      box-shadow: 0 12px 34px rgba(56, 189, 248, 0.55);
    }

    .chat-container {
      margin-top: 6px;
      border-radius: 14px;
      border: 1px solid rgba(148, 163, 184, 0.55);
      background:
        radial-gradient(circle at top left, rgba(37, 99, 235, 0.24), rgba(15, 23, 42, 0.98)),
        radial-gradient(circle at bottom right, rgba(8, 47, 73, 0.9), rgba(15, 23, 42, 1));
      box-shadow:
        inset 0 0 0 1px rgba(15, 23, 42, 0.9),
        0 18px 40px rgba(15, 23, 42, 0.95);
      padding: 10px 10px 9px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .chat-header-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .chat-header-left {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .chat-node {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 0, #a855f7, #6366f1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
      font-weight: 700;
      letter-spacing: 0.08em;
      box-shadow:
        0 0 0 1px rgba(129, 140, 248, 0.7),
        0 10px 26px rgba(79, 70, 229, 0.55);
      color: #f9fafb;
    }

    .chat-title {
      display: flex;
      flex-direction: column;
      gap: 1px;
    }

    .chat-title div {
      font-size: 12px;
      font-weight: 600;
      letter-spacing: 0.03em;
      text-transform: uppercase;
      color: #e5e7eb;
    }

    .chat-title small {
      font-size: 11px;
      color: #9ca3af;
    }

    .chat-language-pill {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 3px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.85), rgba(15, 23, 42, 0.98));
      box-shadow: 0 10px 24px rgba(15, 23, 42, 0.9);
    }

    .lang-option {
      font-size: 10px;
      padding: 3px 7px;
      border-radius: 999px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      cursor: pointer;
      color: #9ca3af;
      border: 1px solid transparent;
    }

    .lang-option.active {
      background: radial-gradient(circle at top left, rgba(59, 130, 246, 0.9), rgba(37, 99, 235, 0.95));
      color: #f9fafb;
      border-color: rgba(191, 219, 254, 0.9);
      box-shadow: 0 10px 24px rgba(37, 99, 235, 0.7);
    }

    #chat-log {
      margin-top: 6px;
      border-radius: 12px;
      background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 1));
      border: 1px solid rgba(30, 64, 175, 0.7);
      box-shadow:
        inset 0 0 0 1px rgba(15, 23, 42, 0.98),
        0 14px 30px rgba(15, 23, 42, 0.95);
      padding: 8px 10px 9px;
      max-height: 440px;
      min-height: 200px;
      overflow-y: auto;
      font-size: 13px;
      color: #e5e7eb;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .message {
      display: flex;
      gap: 8px;
    }

    .message.assistant {
      align-items: flex-start;
    }

    .message.user {
      justify-content: flex-end;
    }

    .message-bubble {
      max-width: 92%;
      padding: 7px 10px;
      border-radius: 11px;
      font-size: 13px;
      line-height: 1.5;
    }

    .assistant .message-bubble {
      background: radial-gradient(circle at top left, rgba(37, 99, 235, 0.95), rgba(30, 64, 175, 0.98));
      border: 1px solid rgba(191, 219, 254, 0.85);
      color: #f9fafb;
      box-shadow:
        0 12px 30px rgba(37, 99, 235, 0.7),
        0 0 0 1px rgba(15, 23, 42, 0.92);
    }

    .user .message-bubble {
      background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 1));
      border: 1px solid rgba(148, 163, 184, 0.9);
      color: #e5e7eb;
      box-shadow:
        0 12px 26px rgba(15, 23, 42, 0.95),
        0 0 0 1px rgba(15, 23, 42, 0.95);
    }

    .message-meta {
      margin-top: 3px;
      font-size: 10px;
      color: #9ca3af;
    }

    .input-row {
      margin-top: 6px;
      display: flex;
      align-items: flex-end;
      gap: 6px;
    }

    #user-input {
      flex: 1;
      min-height: 46px;
      max-height: 120px;
      resize: vertical;
      padding: 7px 9px;
      border-radius: 10px;
      border: 1px solid rgba(148, 163, 184, 0.9);
      background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 1));
      color: #e5e7eb;
      font-size: 13px;
      outline: none;
      box-shadow:
        inset 0 0 0 1px rgba(15, 23, 42, 0.95),
        0 10px 26px rgba(15, 23, 42, 0.96);
    }

    #user-input::placeholder {
      color: #6b7280;
    }

    .mic-button,
    .send-button {
      flex-shrink: 0;
      border-radius: 999px;
      padding: 8px 11px;
      border: 1px solid rgba(148, 163, 184, 0.9);
      background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 1));
      color: #e5e7eb;
      font-size: 11px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
      box-shadow:
        0 10px 26px rgba(15, 23, 42, 0.96),
        0 0 0 1px rgba(15, 23, 42, 0.96);
    }

    .mic-button {
      width: 36px;
      padding: 0;
      font-size: 18px;
    }

    .send-button {
      background: radial-gradient(circle at top left, rgba(37, 99, 235, 0.95), rgba(30, 64, 175, 0.98));
      border-color: rgba(191, 219, 254, 0.85);
      box-shadow:
        0 12px 30px rgba(37, 99, 235, 0.8),
        0 0 0 1px rgba(15, 23, 42, 0.9);
    }

    .mic-button:hover,
    .send-button:hover {
      transform: translateY(-0.5px);
      box-shadow:
        0 14px 34px rgba(15, 23, 42, 0.98),
        0 0 0 1px rgba(15, 23, 42, 0.98);
    }

    .mic-button:active,
    .send-button:active {
      transform: translateY(0.5px);
      box-shadow:
        0 8px 20px rgba(15, 23, 42, 0.98),
        0 0 0 1px rgba(15, 23, 42, 0.98);
    }

    .status-line {
      margin-top: 4px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      color: #9ca3af;
    }

    .status-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: radial-gradient(circle at center, #22c55e, #15803d);
      box-shadow: 0 0 12px rgba(34, 197, 94, 0.85);
    }

    .voice-row {
      margin-top: 4px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      font-size: 11px;
      color: #9ca3af;
    }

    .voice-toggle {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
    }

    .voice-toggle input[type="checkbox"] {
      width: 30px;
      height: 16px;
      appearance: none;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.9);
      background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.95), rgba(15, 23, 42, 1));
      position: relative;
      cursor: pointer;
      outline: none;
      box-shadow: inset 0 0 0 1px rgba(15, 23, 42, 0.98);
    }

    .voice-toggle input[type="checkbox"]::after {
      content: "";
      position: absolute;
      top: 1px;
      left: 2px;
      width: 12px;
      height: 12px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 0, #e5e7eb, #9ca3af);
      box-shadow:
        0 0 0 1px rgba(15, 23, 42, 0.4),
        0 4px 10px rgba(15, 23, 42, 0.9);
      transition: transform 0.16s ease;
    }

    .voice-toggle input[type="checkbox"]:checked::after {
      transform: translateX(12px);
      background: radial-gradient(circle at 30% 0, #a855f7, #6366f1);
    }

    .voice-pill {
      border-radius: 999px;
      border: 1px solid rgba(129, 140, 248, 0.9);
      padding: 4px 9px;
      font-size: 11px;
      display: inline-flex;
      align-items: center;
      gap: 5px;
      background: radial-gradient(circle at top left, rgba(129, 140, 248, 0.25), rgba(15, 23, 42, 0.98));
      color: #e5e7eb;
      box-shadow:
        0 10px 24px rgba(129, 140, 248, 0.6),
        0 0 0 1px rgba(15, 23, 42, 0.95);
    }

    .footer-row {
      margin-top: 4px;
      padding-top: 7px;
      border-top: 1px solid rgba(148, 163, 184, 0.5);
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      align-items: center;
      justify-content: space-between;
      font-size: 10px;
      color: #6b7280;
    }

    .footer-left {
      max-width: 70%;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .footer-right {
      text-align: right;
    }

    .footer-row a {
      color: #a5b4fc;
      text-decoration: none;
    }

    .footer-row a:hover {
      text-decoration: underline;
    }

    @media (max-width: 720px) {
      .shell {
        padding: 14px 12px 12px;
        border-radius: 20px;
      }
      .panel {
        padding: 12px 10px 9px;
      }
      .panel-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 6px;
      }
      .chips-row,
      .content-row {
        align-items: flex-start;
      }
      .footer-left {
        max-width: 100%;
      }
      .footer-row {
        flex-direction: column;
        align-items: flex-start;
      }
      #chat-log {
        max-height: 380px;
      }
    }
  </style>
</head>
<body>
  <div id="app">
    <div class="shell">
      <div class="banner-header">
        <div class="banner-avatar">E</div>
        <div class="banner-title">
          <div class="banner-title-main" id="i-banner-main">
            ESTEBORG EXECUTIVE ¬∑ MEMBERS VIP
          </div>
          <div class="banner-title-sub" id="i-banner-sub">
            Esteborg IA ‚Äì Despliega todo tu poder
          </div>
        </div>
      </div>
      <div class="banner-description" id="i-banner-desc">
        Esteborg IA es tu programa ejecutivo para dominar la Inteligencia Artificial aplicada: aprender desde cero, usarla en tu trabajo y dise√±ar proyectos reales con IA.
      </div>

      <div class="panel">
        <div class="panel-header">
          <div class="panel-title" id="i-panel-title">
            Mini entrenamiento ¬∑ Esteborg IA ‚Äì Despliega todo tu poder
          </div>
          <div class="panel-badge">
            <span class="dot"></span>
            <span>Members VIP</span>
          </div>
        </div>

        <!-- CHIPS: SESI√ìN -->
        <div class="chips-row">
          <span class="chips-label" id="i-chips-label">Comenzar sesi√≥n:</span>
          <button
            class="chip-btn starter"
            id="i-btn-lesson"
            data-text="Quiero aprender IA desde cero. Tr√°tame como principiante y ll√©vame paso a paso."
          >
            Aprender IA desde cero
          </button>
          <button
            class="chip-btn starter"
            id="i-btn-emotion"
            data-text="Quiero aplicar IA en mi trabajo y procesos diarios. Ay√∫dame a identificar mis casos de uso."
          >
            Aplicar IA en mi trabajo
          </button>
          <button
            class="chip-btn starter"
            id="i-btn-challenge"
            data-text="Quiero dominar ChatGPT y otras IA para contenido, ideas y automatizar tareas."
          >
            Dominar ChatGPT y otras IA
          </button>
        </div>

        <!-- CHIPS: CONTENIDO VISUAL -->
        <div class="content-row">
          <span class="content-label" id="i-content-label">Accesos r√°pidos:</span>
          <button
            class="content content-btn"
            id="i-btn-slides"
            data-text="Mu√©strame la estructura completa del programa Esteborg IA ‚Äì Despliega todo tu poder, con sus m√≥dulos, duraci√≥n y objetivos."
          >
            Ver estructura del curso
          </button>
          <button
            class="content content-btn"
            id="i-btn-summary"
            data-text="Expl√≠came c√≥mo funciona la certificaci√≥n AI Executive & Prompt Engineer y qu√© necesito para obtenerla."
          >
            Consultar certificaciones
          </button>
        </div>

        <!-- CHAT -->
        <div class="chat-container">
          <div class="chat-header-row">
            <div class="chat-header-left">
              <div class="chat-node">E</div>
              <div class="chat-title">
                <div id="i-chat-name">Esteborg</div>
                <small id="i-chat-role">Entrenador ejecutivo en IA aplicada</small>
              </div>
            </div>
            <div class="chat-language-pill">
              <span class="lang-option active" data-lang="es">ES</span>
              <span class="lang-option" data-lang="en">EN</span>
              <span class="lang-option" data-lang="pt">PT</span>
              <span class="lang-option" data-lang="fr">FR</span>
              <span class="lang-option" data-lang="it">IT</span>
              <span class="lang-option" data-lang="de">DE</span>
            </div>
          </div>

          <div id="chat-log"></div>

          <div class="input-row">
            <textarea
              id="user-input"
              placeholder="Cu√©ntame en qu√© punto est√°s con la IA o qu√© quieres lograr primero..."
            ></textarea>
            <button id="mic-btn" class="mic-button" title="Hablar con voz">
              üéôÔ∏è
            </button>
            <button id="send-btn" class="send-button">ENVIAR</button>
          </div>

          <div class="status-line" id="status-line">
            <span class="status-dot"></span>
            <span>Preparando tu sesi√≥n con Esteborg IA...</span>
          </div>

          <div class="voice-row">
            <label class="voice-toggle">
              <input type="checkbox" id="tts-toggle" />
              <span id="i-voice-toggle-label">Voz Esteborg activada</span>
            </label>
            <div class="voice-pill" id="i-voice-pill">üéß Voz Esteborg</div>
          </div>
        </div>

        <div class="footer-row">
          <div class="footer-left">
            <strong id="i-footer-token-title">Tokken Esteborg Members</strong>
            <span id="i-footer-token-text">
              Si a√∫n no tienes token, puedes obtenerlo o recuperarlo en:
              https://membersvip.esteborg.live/#miembrosvip
            </span>
          </div>
          <div class="footer-right">
            Propiedad de Esteban Manuel Gonz√°lez C√°rdenas ¬∑ Esteborg<br />
            <a href="https://esteborg.com" target="_blank" rel="noopener">esteborg.com</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ========== CONFIG ==========
   const API_BASE = "https://esteborg88full-backend-modular.onrender.com";
    const MODULE_PATH = "/api/modules/iavipcom";
    const TTS_URL = API_BASE + "/api/voice";

    // ========== I18N ==========
    const I18N = {
      es: {
        bannerMain: "ESTEBORG EXECUTIVE ¬∑ MEMBERS VIP",
        bannerSub: "Esteborg IA ‚Äì Despliega todo tu poder",
        bannerDesc:
          "Esteborg IA es tu programa ejecutivo para dominar la Inteligencia Artificial aplicada: aprender desde cero, usarla en tu trabajo y dise√±ar proyectos reales con IA.",
        panelTitle: "Mini entrenamiento ¬∑ Esteborg IA ‚Äì Despliega todo tu poder",
        chipsLabel: "Comenzar sesi√≥n:",
        btnLesson: "Aprender IA desde cero",
        btnLessonText:
          "Quiero aprender IA desde cero. Tr√°tame como principiante y ll√©vame paso a paso.",
        btnEmotion: "Aplicar IA en mi trabajo",
        btnEmotionText:
          "Quiero aplicar IA en mi trabajo y procesos diarios. Ay√∫dame a identificar y dise√±ar mis casos de uso.",
        btnChallenge: "Dominar ChatGPT y otras IA",
        btnChallengeText:
          "Quiero dominar ChatGPT y otras IA para crear contenido, ideas y automatizar tareas.",
        contentLabel: "Accesos r√°pidos:",
        btnSlides: "Ver estructura del curso",
        btnSlidesText:
          "Mu√©strame la estructura completa del programa Esteborg IA ‚Äì Despliega todo tu poder, con sus m√≥dulos, duraci√≥n y objetivos.",
        btnSummary: "Consultar certificaciones",
        btnSummaryText:
          "Expl√≠came c√≥mo funciona la certificaci√≥n AI Executive & Prompt Engineer y qu√© necesito para obtenerla.",
        inputPlaceholder:
          "Cu√©ntame en qu√© punto est√°s con la IA o qu√© quieres lograr primero...",
        footerTokenTitle: "Tokken Esteborg Members",
        footerTokenText:
          "Si a√∫n no tienes token, puedes obtenerlo o recuperarlo en: https://membersvip.esteborg.live/#miembrosvip",
        chatName: "Esteborg",
        chatRole: "Entrenador ejecutivo en IA aplicada",
        voiceToggleLabel: "Voz Esteborg activada",
        voicePillLabel: "üéß Voz Esteborg",
        sendButtonLabel: "ENVIAR",
        statusInitialWithToken:
          "Detect√© un Tokken en la URL o guardado ¬∑ lo usar√© autom√°ticamente en tu sesi√≥n.",
        statusInitialNoToken:
          "Demo activa ¬∑ si generas tu Tokken VIP en Members, lo usar√© autom√°ticamente.",
        statusTokenManual:
          "Tokken pegado manualmente ¬∑ usar√© ese Tokken en tu sesi√≥n.",
        statusTokenValid: "Modo Members activo ¬∑ Tokken VIP v√°lido.",
        statusTokenInvalid:
          "Tokken inv√°lido o expirado ¬∑ usando modo demo. Genera uno nuevo en Members.",
        statusDemoEnded:
          "Demo finalizada ¬∑ renueva tu acceso para seguir con Esteborg IA.",
        statusDemoActive:
          "Demo activa ¬∑ si generas tu Tokken VIP en Members, lo usar√© autom√°ticamente.",
        statusListening: "Escuchando... habla ahora.",
        statusProcessingSpeech: "Procesando lo que dijiste...",
        statusMicError:
          "Hubo un problema con el micr√≥fono, intenta de nuevo.",
        statusTextCaptured:
          "Texto capturado, puedes enviarlo o editarlo.",
        statusTTSOn: "Voz Esteborg activada.",
        statusTTSOff: "Voz Esteborg desactivada.",
        statusLangCurrent: "Idioma cambiado a espa√±ol.",
        tokenPasteReply:
          "Perfecto, ya tengo tu Tokken Esteborg Members ‚úÖ\nAhora dime: ¬øquieres que trabajemos tu formaci√≥n en IA en \"espa√±ol\", \"ingl√©s\", \"portugu√©s\", \"franc√©s\", \"italiano\" o \"alem√°n\"?",
        tokenWelcomeMessage:
          "‚úÖ Tu Tokken Esteborg Members est√° validado.\nEst√°s en modo Members VIP, as√≠ que podemos trabajar tus objetivos reales de IA aplicada con acceso completo al programa.",
        welcomeMessage:
          "üëã Bienvenido a Esteborg IA ‚Äì Despliega todo tu poder. Soy tu gu√≠a oficial en este programa de formaci√≥n en Inteligencia Artificial.\n\n" +
          "Antes de empezar, necesito tu Tokken Esteborg Members para validar tu acceso.\n\n" +
          "Si a√∫n no tienes token, puedes obtenerlo o recuperarlo en: https://membersvip.esteborg.live/#miembrosvip\n\n" +
          "Una vez que tengas tu Tokken, p√©galo aqu√≠ o accede desde tu panel Members VIP. Despu√©s elige el idioma en la parte superior (ES, EN, PT, FR, IT, DE) y comenzamos con tu entrenamiento."
      },
      en: {
        bannerMain: "ESTEBORG EXECUTIVE ¬∑ MEMBERS VIP",
        bannerSub: "Esteborg IA ‚Äì Unleash all your power",
        bannerDesc:
          "Esteborg IA is your executive program to master applied Artificial Intelligence: learn from scratch, use it at work and design real AI projects.",
        panelTitle: "Mini training ¬∑ Esteborg IA ‚Äì Unleash all your power",
        chipsLabel: "Start session:",
        btnLesson: "Learn AI from scratch",
        btnLessonText:
          "I want to learn AI from scratch. Treat me as a beginner and guide me step by step.",
        btnEmotion: "Apply AI at work",
        btnEmotionText:
          "I want to apply AI in my daily work and processes. Help me identify and design my use cases.",
        btnChallenge: "Master ChatGPT & AIs",
        btnChallengeText:
          "I want to master ChatGPT and other AIs to create content, ideas and automate tasks.",
        contentLabel: "Shortcuts:",
        btnSlides: "View course structure",
        btnSlidesText:
          "Show me the full structure of the Esteborg IA ‚Äì Unleash all your power program, with modules, duration and objectives.",
        btnSummary: "Check certifications",
        btnSummaryText:
          "Explain how the AI Executive & Prompt Engineer certification works and what I need to obtain it.",
        inputPlaceholder:
          "Tell me where you are with AI and what you want to achieve first...",
        footerTokenTitle: "Esteborg Members Token",
        footerTokenText:
          "If you don‚Äôt have a token yet, you can get or recover it at: https://membersvip.esteborg.live/#miembrosvip",
        chatName: "Esteborg",
        chatRole: "Executive trainer in applied AI",
        voiceToggleLabel: "Esteborg voice enabled",
        voicePillLabel: "üéß Esteborg Voice",
        sendButtonLabel: "SEND",
        statusInitialWithToken:
          "I detected a token in the URL or stored locally ¬∑ I‚Äôll use it automatically in your session.",
        statusInitialNoToken:
          "Demo mode is active ¬∑ if you generate your VIP token in Members, I‚Äôll use it automatically.",
        statusTokenManual:
          "Token pasted manually ¬∑ I‚Äôll use that token in your session.",
        statusTokenValid: "Members mode active ¬∑ VIP token valid.",
        statusTokenInvalid:
          "Invalid or expired token ¬∑ using demo mode. Generate a new one in Members.",
        statusDemoEnded:
          "Demo finished ¬∑ renew your access to continue with Esteborg IA.",
        statusDemoActive:
          "Demo mode is active ¬∑ if you generate your VIP token in Members, I‚Äôll use it automatically.",
        statusListening: "Listening... you can speak now.",
        statusProcessingSpeech: "Processing what you said...",
        statusMicError:
          "There was a problem with the microphone, please try again.",
        statusTextCaptured:
          "Text captured, you can send or edit it.",
        statusTTSOn: "Esteborg voice enabled.",
        statusTTSOff: "Esteborg voice disabled.",
        statusLangCurrent: "Language set to English.",
        tokenPasteReply:
          "Perfect, I‚Äôve got your Esteborg Members Token ‚úÖ\nNow tell me in which language you prefer to follow your AI training: Spanish, English, Portuguese, French, Italian or German?",
        tokenWelcomeMessage:
          "‚úÖ Your Esteborg Members Token is validated.\nYou‚Äôre in Members VIP mode, so we can work on your real applied-AI goals with full access to the program.",
        welcomeMessage:
          "üëã Welcome to Esteborg IA ‚Äì Unleash all your power. I‚Äôm your official guide in this AI training program.\n\n" +
          "Before we start, I need your Esteborg Members Token to validate your access.\n\n" +
          "If you don‚Äôt have a token yet, you can get or recover it at: https://membersvip.esteborg.live/#miembrosvip\n\n" +
          "Once you have your token, paste it here or access through your Members VIP panel. Then choose the language at the top (ES, EN, PT, FR, IT, DE) and we‚Äôll start your training."
      },
      pt: {
        bannerMain: "ESTEBORG EXECUTIVE ¬∑ MEMBERS VIP",
        bannerSub: "Esteborg IA ‚Äì Libere todo o seu poder",
        bannerDesc:
          "Esteborg IA √© o seu programa executivo para dominar a Intelig√™ncia Artificial aplicada: aprender do zero, usar no trabalho e desenhar projetos reais com IA.",
        panelTitle: "Mini treinamento ¬∑ Esteborg IA ‚Äì Libere todo o seu poder",
        chipsLabel: "Iniciar sess√£o:",
        btnLesson: "Aprender IA do zero",
        btnLessonText:
          "Quero aprender IA do zero. Trate-me como iniciante e guie-me passo a passo.",
        btnEmotion: "Aplicar IA no trabalho",
        btnEmotionText:
          "Quero aplicar IA no meu trabalho e processos di√°rios. Ajude-me a identificar e desenhar meus casos de uso.",
        btnChallenge: "Dominar ChatGPT e outras IAs",
        btnChallengeText:
          "Quero dominar o ChatGPT e outras IAs para criar conte√∫do, ideias e automatizar tarefas.",
        contentLabel: "Atalhos do programa:",
        btnSlides: "Ver estrutura do curso",
        btnSlidesText:
          "Mostre-me a estrutura completa do programa Esteborg IA ‚Äì Despliega todo tu poder, com m√≥dulos, dura√ß√£o e objetivos.",
        btnSummary: "Consultar certifica√ß√µes",
        btnSummaryText:
          "Explique como funciona a certifica√ß√£o AI Executive & Prompt Engineer e o que preciso para obt√™-la.",
        inputPlaceholder:
          "Conte-me em que ponto voc√™ est√° com IA e o que deseja alcan√ßar primeiro...",
        footerTokenTitle: "Tokken Esteborg Members",
        footerTokenText:
          "Se voc√™ ainda n√£o tem token, pode obt√™-lo ou recuper√°-lo em: https://membersvip.esteborg.live/#miembrosvip",
        chatName: "Esteborg",
        chatRole: "Treinador executivo em IA aplicada",
        voiceToggleLabel: "Voz Esteborg ativada",
        voicePillLabel: "üéß Voz Esteborg",
        sendButtonLabel: "ENVIAR",
        statusInitialWithToken:
          "Detectei um Tokken na URL ou salvo ¬∑ vou us√°-lo automaticamente na sua sess√£o.",
        statusInitialNoToken:
          "Demo ativa ¬∑ se voc√™ gerar seu Tokken VIP no Members, vou us√°-lo automaticamente.",
        statusTokenManual:
          "Tokken colado manualmente ¬∑ vou usar esse Tokken na sua sess√£o.",
        statusTokenValid: "Modo Members ativo ¬∑ Tokken VIP v√°lido.",
        statusTokenInvalid:
          "Tokken inv√°lido ou expirado ¬∑ usando modo demo. Gere um novo no Members.",
        statusDemoEnded:
          "Demo finalizada ¬∑ renove seu acesso para continuar com Esteborg IA.",
        statusDemoActive:
          "Demo ativa ¬∑ se voc√™ gerar seu Tokken VIP no Members, vou us√°-lo automaticamente.",
        statusListening: "Ouvindo... fale agora.",
        statusProcessingSpeech: "Processando o que voc√™ disse...",
        statusMicError:
          "Houve um problema com o microfone, tente novamente.",
        statusTextCaptured:
          "Texto capturado, voc√™ pode enviar ou editar.",
        statusTTSOn: "Voz Esteborg ativada.",
        statusTTSOff: "Voz Esteborg desativada.",
        statusLangCurrent: "Idioma alterado para portugu√™s.",
        tokenPasteReply:
          "Perfeito, j√° tenho seu Tokken Esteborg Members ‚úÖ\nAgora diga em que idioma prefere seguir sua forma√ß√£o em IA: espanhol, ingl√™s, portugu√™s, franc√™s, italiano ou alem√£o.",
        tokenWelcomeMessage:
          "‚úÖ Seu Tokken Esteborg Members foi validado.\nVoc√™ est√° em modo Members VIP, ent√£o podemos trabalhar seus objetivos reais de IA aplicada com acesso completo.",
        welcomeMessage:
          "üëã Bem-vindo ao Esteborg IA ‚Äì Despliega todo tu poder. Sou seu guia oficial neste programa de forma√ß√£o em Intelig√™ncia Artificial.\n\n" +
          "Antes de come√ßar, preciso do seu Tokken Esteborg Members para validar seu acesso.\n\n" +
          "Se ainda n√£o tem um token, voc√™ pode obt√™-lo ou recuper√°-lo em: https://membersvip.esteborg.live/#miembrosvip\n\n" +
          "Assim que tiver seu Tokken, cole aqui ou acesse pelo seu painel Members VIP. Depois escolha o idioma no topo (ES, EN, PT, FR, IT, DE) e come√ßamos o treinamento."
      },
      fr: {
        bannerMain: "ESTEBORG EXECUTIVE ¬∑ MEMBERS VIP",
        bannerSub: "Esteborg IA ‚Äì Lib√®re tout ton potentiel",
        bannerDesc:
          "Esteborg IA est ton programme ex√©cutif pour ma√Ætriser l‚ÄôIntelligence Artificielle appliqu√©e : apprendre depuis z√©ro, l‚Äôutiliser au travail et concevoir des projets r√©els avec l‚ÄôIA.",
        panelTitle: "Mini formation ¬∑ Esteborg IA ‚Äì Lib√®re tout ton potentiel",
        chipsLabel: "Commencer la session :",
        btnLesson: "Apprendre l‚ÄôIA depuis z√©ro",
        btnLessonText:
          "Je veux apprendre l‚ÄôIA depuis z√©ro. Traite-moi comme un d√©butant et guide-moi √©tape par √©tape.",
        btnEmotion: "Appliquer l‚ÄôIA au travail",
        btnEmotionText:
          "Je veux appliquer l‚ÄôIA dans mon travail et mes processus quotidiens. Aide-moi √† identifier et concevoir mes cas d‚Äôusage.",
        btnChallenge: "Ma√Ætriser ChatGPT et autres IA",
        btnChallengeText:
          "Je veux ma√Ætriser ChatGPT et d‚Äôautres IA pour cr√©er du contenu, des id√©es et automatiser des t√¢ches.",
        contentLabel: "Raccourcis du programme :",
        btnSlides: "Voir la structure du cours",
        btnSlidesText:
          "Montre-moi la structure compl√®te du programme Esteborg IA ‚Äì Despliega todo tu poder, avec modules, dur√©e et objectifs.",
        btnSummary: "Consulter les certifications",
        btnSummaryText:
          "Explique-moi le fonctionnement de la certification AI Executive & Prompt Engineer et ce qu‚Äôil faut pour l‚Äôobtenir.",
        inputPlaceholder:
          "Dis-moi o√π tu en es avec l‚ÄôIA et ce que tu veux atteindre en premier...",
        footerTokenTitle: "Tokken Esteborg Members",
        footerTokenText:
          "Si tu n‚Äôas pas encore de token, tu peux l‚Äôobtenir ou le r√©cup√©rer sur : https://membersvip.esteborg.live/#miembrosvip",
        chatName: "Esteborg",
        chatRole: "Formateur ex√©cutif en IA appliqu√©e",
        voiceToggleLabel: "Voix Esteborg activ√©e",
        voicePillLabel: "üéß Voix Esteborg",
        sendButtonLabel: "ENVOYER",
        statusInitialWithToken:
          "J‚Äôai d√©tect√© un Tokken dans l‚ÄôURL ou en local ¬∑ je l‚Äôutiliserai automatiquement dans ta session.",
        statusInitialNoToken:
          "D√©mo active ¬∑ si tu g√©n√®res ton Tokken VIP sur Members, je l‚Äôutiliserai automatiquement.",
        statusTokenManual:
          "Tokken coll√© manuellement ¬∑ je vais utiliser ce Tokken dans ta session.",
        statusTokenValid: "Mode Members actif ¬∑ Tokken VIP valide.",
        statusTokenInvalid:
          "Tokken invalide ou expir√© ¬∑ utilisation du mode d√©mo. G√©n√®re-en un nouveau sur Members.",
        statusDemoEnded:
          "D√©mo termin√©e ¬∑ renouvelle ton acc√®s pour continuer avec Esteborg IA.",
        statusDemoActive:
          "D√©mo active ¬∑ si tu g√©n√®res ton Tokken VIP sur Members, je l‚Äôutiliserai automatiquement.",
        statusListening: "√âcoute en cours... tu peux parler.",
        statusProcessingSpeech: "Je traite ce que tu as dit...",
        statusMicError:
          "Il y a eu un probl√®me avec le micro, r√©essaie.",
        statusTextCaptured:
          "Texte captur√©, tu peux l‚Äôenvoyer ou le modifier.",
        statusTTSOn: "Voix Esteborg activ√©e.",
        statusTTSOff: "Voix Esteborg d√©sactiv√©e.",
        statusLangCurrent: "Langue r√©gl√©e sur le fran√ßais.",
        tokenPasteReply:
          "Parfait, j‚Äôai ton Tokken Esteborg Members ‚úÖ\nDis-moi maintenant dans quelle langue tu pr√©f√®res suivre ta formation en IA : espagnol, anglais, portugais, fran√ßais, italien ou allemand.",
        tokenWelcomeMessage:
          "‚úÖ Ton Tokken Esteborg Members est valid√©.\nTu es en mode Members VIP, nous pouvons donc travailler tes objectifs r√©els d‚ÄôIA appliqu√©e avec un acc√®s complet au programme.",
        welcomeMessage:
          "üëã Bienvenue sur Esteborg IA ‚Äì Lib√®re tout ton potentiel. Je suis ton guide officiel dans ce programme de formation en Intelligence Artificielle.\n\n" +
          "Avant de commencer, j‚Äôai besoin de ton Tokken Esteborg Members pour valider ton acc√®s.\n\n" +
          "Si tu n‚Äôen as pas encore, tu peux l‚Äôobtenir ou le r√©cup√©rer sur : https://membersvip.esteborg.live/#miembrosvip\n\n" +
          "Une fois ton Tokken pr√™t, colle-le ici ou passe par ton espace Members VIP. Ensuite, choisis la langue en haut (ES, EN, PT, FR, IT, DE) et on d√©marre ta formation."
      },
      it: {
        bannerMain: "ESTEBORG EXECUTIVE ¬∑ MEMBERS VIP",
        bannerSub: "Esteborg IA ‚Äì Sprigiona tutto il tuo potere",
        bannerDesc:
          "Esteborg IA √® il tuo programma executive per padroneggiare l‚ÄôIntelligenza Artificiale applicata: imparare da zero, usarla nel lavoro e progettare casi reali con l‚ÄôIA.",
        panelTitle: "Mini training ¬∑ Esteborg IA ‚Äì Sprigiona tutto il tuo potere",
        chipsLabel: "Inizia la sessione:",
        btnLesson: "Imparare l‚ÄôIA da zero",
        btnLessonText:
          "Voglio imparare l‚ÄôIA da zero. Trattami come principiante e guidami passo dopo passo.",
        btnEmotion: "Applicare l‚ÄôIA nel lavoro",
        btnEmotionText:
          "Voglio applicare l‚ÄôIA nel mio lavoro e nei processi quotidiani. Aiutami a identificare e progettare i miei casi d‚Äôuso.",
        btnChallenge: "Dominare ChatGPT e altre IA",
        btnChallengeText:
          "Voglio dominare ChatGPT e altre IA per creare contenuti, idee e automatizzare compiti.",
        contentLabel: "Scorciatoie del programma:",
        btnSlides: "Vedi la struttura del corso",
        btnSlidesText:
          "Mostrami la struttura completa del programma Esteborg IA ‚Äì Despliega todo tu poder, con moduli, durata e obiettivi.",
        btnSummary: "Consultare le certificazioni",
        btnSummaryText:
          "Spiegami come funziona la certificazione AI Executive & Prompt Engineer e cosa mi serve per ottenerla.",
        inputPlaceholder:
          "Raccontami a che punto sei con l‚ÄôIA e cosa vuoi ottenere per primo...",
        footerTokenTitle: "Tokken Esteborg Members",
        footerTokenText:
          "Se non hai ancora un token, puoi ottenerlo o recuperarlo su: https://membersvip.esteborg.live/#miembrosvip",
        chatName: "Esteborg",
        chatRole: "Trainer executive di IA applicata",
        voiceToggleLabel: "Voce Esteborg attivata",
        voicePillLabel: "üéß Voce Esteborg",
        sendButtonLabel: "INVIA",
        statusInitialWithToken:
          "Ho rilevato un Tokken nell‚ÄôURL o salvato in locale ¬∑ lo user√≤ automaticamente nella tua sessione.",
        statusInitialNoToken:
          "Demo attiva ¬∑ se generi il tuo Tokken VIP in Members, lo user√≤ automaticamente.",
        statusTokenManual:
          "Tokken incollato manualmente ¬∑ user√≤ quel Tokken nella tua sessione.",
        statusTokenValid: "Modalit√† Members attiva ¬∑ Tokken VIP valido.",
        statusTokenInvalid:
          "Tokken non valido o scaduto ¬∑ uso la modalit√† demo. Generane uno nuovo in Members.",
        statusDemoEnded:
          "Demo terminata ¬∑ rinnova il tuo accesso per continuare con Esteborg IA.",
        statusDemoActive:
          "Demo attiva ¬∑ se generi il tuo Tokken VIP in Members, lo user√≤ automaticamente.",
        statusListening: "Ascolto in corso... puoi parlare.",
        statusProcessingSpeech: "Elaboro ci√≤ che hai detto...",
        statusMicError:
          "Si √® verificato un problema con il microfono, riprova.",
        statusTextCaptured:
          "Testo catturato, puoi inviarlo o modificarlo.",
        statusTTSOn: "Voce Esteborg attivata.",
        statusTTSOff: "Voce Esteborg disattivata.",
        statusLangCurrent: "Lingua impostata su italiano.",
        tokenPasteReply:
          "Perfetto, ho il tuo Tokken Esteborg Members ‚úÖ\nOra dimmi in quale lingua preferisci seguire la tua formazione in IA: spagnolo, inglese, portoghese, francese, italiano o tedesco.",
        tokenWelcomeMessage:
          "‚úÖ Il tuo Tokken Esteborg Members √® stato validato.\nSei in modalit√† Members VIP, quindi possiamo lavorare sui tuoi obiettivi reali di IA applicata con accesso completo al programma.",
        welcomeMessage:
          "üëã Benvenuto in Esteborg IA ‚Äì Sprigiona tutto il tuo potere. Sono la tua guida ufficiale in questo programma di formazione in Intelligenza Artificiale.\n\n" +
          "Prima di iniziare, ho bisogno del tuo Tokken Esteborg Members per validare il tuo accesso.\n\n" +
          "Se non hai ancora un token, puoi ottenerlo o recuperarlo su: https://membersvip.esteborg.live/#miembrosvip\n\n" +
          "Una volta pronto il tuo Tokken, incollalo qui o accedi dal pannello Members VIP. Poi scegli la lingua in alto (ES, EN, PT, FR, IT, DE) e iniziamo il tuo training."
      },
      de: {
        bannerMain: "ESTEBORG EXECUTIVE ¬∑ MEMBERS VIP",
        bannerSub: "Esteborg IA ‚Äì Entfalte deine ganze Power",
        bannerDesc:
          "Esteborg IA ist dein Executive-Programm, um angewandte K√ºnstliche Intelligenz zu meistern: von Null starten, bei der Arbeit einsetzen und reale IA-Projekte entwerfen.",
        panelTitle: "Mini-Training ¬∑ Esteborg IA ‚Äì Entfalte deine ganze Power",
        chipsLabel: "Session starten:",
        btnLesson: "KI von Grund auf lernen",
        btnLessonText:
          "Ich m√∂chte KI von Grund auf lernen. Behandle mich wie einen Anf√§nger und f√ºhre mich Schritt f√ºr Schritt.",
        btnEmotion: "KI in der Arbeit einsetzen",
        btnEmotionText:
          "Ich m√∂chte KI in meiner t√§glichen Arbeit und meinen Prozessen einsetzen. Hilf mir, meine Use Cases zu identifizieren und zu gestalten.",
        btnChallenge: "ChatGPT & andere KIs meistern",
        btnChallengeText:
          "Ich m√∂chte ChatGPT und andere KIs meistern, um Inhalte, Ideen zu erstellen und Aufgaben zu automatisieren.",
        contentLabel: "Programm-Shortcuts:",
        btnSlides: "Kursstruktur anzeigen",
        btnSlidesText:
          "Zeig mir die komplette Struktur des Programms Esteborg IA ‚Äì Despliega todo tu poder mit Modulen, Dauer und Zielen.",
        btnSummary: "Zertifizierungen ansehen",
        btnSummaryText:
          "Erkl√§re mir, wie die Zertifizierung AI Executive & Prompt Engineer funktioniert und was ich daf√ºr brauche.",
        inputPlaceholder:
          "Erz√§hl mir, wo du mit KI stehst und was du zuerst erreichen m√∂chtest...",
        footerTokenTitle: "Tokken Esteborg Members",
        footerTokenText:
          "Wenn du noch keinen Token hast, kannst du ihn hier erhalten oder wiederherstellen: https://membersvip.esteborg.live/#miembrosvip",
        chatName: "Esteborg",
        chatRole: "Executive-Trainer f√ºr angewandte KI",
        voiceToggleLabel: "Esteborg-Stimme aktiviert",
        voicePillLabel: "üéß Esteborg Stimme",
        sendButtonLabel: "SENDEN",
        statusInitialWithToken:
          "Ich habe einen Tokken in der URL oder lokal erkannt ¬∑ ich werde ihn automatisch in deiner Session benutzen.",
        statusInitialNoToken:
          "Demo aktiv ¬∑ wenn du deinen VIP-Tokken in Members erzeugst, nutze ich ihn automatisch.",
        statusTokenManual:
          "Tokken manuell eingef√ºgt ¬∑ ich werde diesen Tokken in deiner Session verwenden.",
        statusTokenValid: "Members-Modus aktiv ¬∑ VIP-Tokken g√ºltig.",
        statusTokenInvalid:
          "Tokken ung√ºltig oder abgelaufen ¬∑ Demo-Modus aktiv. Erzeuge einen neuen in Members.",
        statusDemoEnded:
          "Demo beendet ¬∑ erneuere deinen Zugang, um mit Esteborg IA fortzufahren.",
        statusDemoActive:
          "Demo aktiv ¬∑ wenn du deinen VIP-Tokken in Members erzeugst, nutze ich ihn automatisch.",
        statusListening: "Ich h√∂re zu... du kannst jetzt sprechen.",
        statusProcessingSpeech: "Ich verarbeite, was du gesagt hast...",
        statusMicError:
          "Es gab ein Problem mit dem Mikrofon, versuche es erneut.",
        statusTextCaptured:
          "Text erfasst, du kannst ihn senden oder bearbeiten.",
        statusTTSOn: "Esteborg-Stimme aktiviert.",
        statusTTSOff: "Esteborg-Stimme deaktiviert.",
        statusLangCurrent: "Sprache auf Deutsch gesetzt.",
        tokenPasteReply:
          "Perfekt, ich habe deinen Esteborg Members Tokken ‚úÖ\nSag mir nun, in welcher Sprache du dein KI-Training fortsetzen m√∂chtest: Spanisch, Englisch, Portugiesisch, Franz√∂sisch, Italienisch oder Deutsch.",
        tokenWelcomeMessage:
          "‚úÖ Dein Esteborg Members Tokken ist validiert.\nDu bist im Members-VIP-Modus, wir k√∂nnen also mit vollem Zugriff an deinen realen Zielen in angewandter KI arbeiten.",
        welcomeMessage:
          "üëã Willkommen bei Esteborg IA ‚Äì Entfalte deine ganze Power. Ich bin dein offizieller Guide in diesem Trainingsprogramm f√ºr K√ºnstliche Intelligenz.\n\n" +
          "Bevor wir starten, ben√∂tige ich deinen Esteborg Members Tokken, um deinen Zugang zu validieren.\n\n" +
          "Wenn du noch keinen Tokken hast, kannst du ihn hier erhalten oder wiederherstellen: https://membersvip.esteborg.live/#miembrosvip\n\n" +
          "Sobald du deinen Tokken hast, f√ºge ihn hier ein oder gehe √ºber dein Members-VIP-Panel. W√§hle dann oben die Sprache (ES, EN, PT, FR, IT, DE) und wir starten dein Training."
      }
    };

    function t(key, langOverride) {
      const lang = langOverride || currentLang || "es";
      const pack = I18N[lang] || I18N.es;
      return pack[key] || I18N.es[key] || "";
    }

    // ========== TOKEN VIP ==========
    let currentToken = null;
    let currentLang = "es";

    function getTokenFromUrl() {
      try {
        const params = new URLSearchParams(window.location.search);
        return params.get("tokken") || params.get("token") || null;
      } catch (e) {
        return null;
      }
    }

    function getStoredToken() {
      try {
        return localStorage.getItem("esteborg_members_token") || null;
      } catch (e) {
        return null;
      }
    }

    function storeToken(token) {
      try {
        localStorage.setItem("esteborg_members_token", token);
      } catch (e) {}
    }

    function setStatus(textKey) {
      const statusLine = document.getElementById("status-line");
      if (!statusLine) return;
      const span = statusLine.querySelector("span:last-child");
      if (!span) return;
      span.textContent = t(textKey);
    }

    function initializeToken() {
      const fromUrl = getTokenFromUrl();
      const fromStorage = getStoredToken();
      const chatLog = document.getElementById("chat-log");

      if (fromUrl) {
        currentToken = fromUrl;
        storeToken(fromUrl);
        if (chatLog) {
          const msg = document.createElement("div");
          msg.className = "message assistant";
          msg.innerHTML =
            '<div class="message-bubble">' +
            t("tokenPasteReply") +
            "</div>";
          chatLog.appendChild(msg);
          chatLog.scrollTop = chatLog.scrollHeight;
        }
        setStatus("statusTokenManual");
        return;
      }

      if (fromStorage) {
        currentToken = fromStorage;
        setStatus("statusInitialWithToken");
        return;
      }

      setStatus("statusInitialNoToken");
    }

    // ========== STATE / CHAT LOGIC ==========
    let isSending = false;

    function appendMessage(role, text) {
      const chatLog = document.getElementById("chat-log");
      if (!chatLog) return;
      const wrapper = document.createElement("div");
      wrapper.className = "message " + (role === "assistant" ? "assistant" : "user");
      const bubble = document.createElement("div");
      bubble.className = "message-bubble";
      bubble.textContent = text;
      wrapper.appendChild(bubble);
      chatLog.appendChild(wrapper);
      chatLog.scrollTop = chatLog.scrollHeight;
    }

    function appendSystemMessage(text) {
      const chatLog = document.getElementById("chat-log");
      if (!chatLog) return;
      const wrapper = document.createElement("div");
      wrapper.className = "message assistant";
      const bubble = document.createElement("div");
      bubble.className = "message-bubble";
      bubble.style.opacity = "0.9";
      bubble.style.fontSize = "12px";
      bubble.style.color = "#e5e7eb";
      bubble.textContent = text;
      wrapper.appendChild(bubble);
      chatLog.appendChild(wrapper);
      chatLog.scrollTop = chatLog.scrollHeight;
    }

    let hiddenInstructions = [];
    function pushHiddenInstruction(text) {
      hiddenInstructions.push(text);
    }

    function getPackedMessages(userText) {
      const messages = [];

      if (hiddenInstructions.length > 0) {
        messages.push({
          role: "system",
          content: hiddenInstructions.join("\n\n"),
        });
      }

      messages.push({
        role: "user",
        content: userText,
      });

      return messages;
    }

    async function sendMessage(text) {
      if (!text || isSending) return;
      isSending = true;
      setStatus("statusDemoActive");

      appendMessage("user", text);

      const payload = {
        messages: getPackedMessages(text),
        token: currentToken,
        lang: currentLang,
      };

      try {
        const response = await fetch(API_BASE + MODULE_PATH, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(payload),
        });

        if (!response.ok) {
          appendSystemMessage("Hubo un problema al conectar con Esteborg. Intenta de nuevo.");
          isSending = false;
          return;
        }

        const data = await response.json();
        const assistantText = data.reply || "Respuesta recibida.";
        appendMessage("assistant", assistantText);

        if (data.tokenStatus === "valid") {
          setStatus("statusTokenValid");
        } else if (data.tokenStatus === "invalid") {
          setStatus("statusTokenInvalid");
        } else if (data.demoStatus === "ended") {
          setStatus("statusDemoEnded");
        } else {
          setStatus("statusDemoActive");
        }

        if (data.ttsUrl && window.__esteborgTTSOn) {
          playTTSFromUrl(data.ttsUrl);
        } else if (window.__esteborgTTSOn) {
          requestTTSForText(assistantText);
        }
      } catch (err) {
        appendSystemMessage("Ocurri√≥ un error de red. Verifica tu conexi√≥n.");
      } finally {
        isSending = false;
      }
    }

    // ========== AUDIO / TTS / MIC ==========
    let mediaRecorder = null;
    let recordedChunks = [];
    let recognition = null;

    function setupSpeechRecognition() {
      const SpeechRecognition =
        window.SpeechRecognition || window.webkitSpeechRecognition;
      if (!SpeechRecognition) return null;

      const rec = new SpeechRecognition();
      rec.lang = getSpeechLangCode(currentLang);
      rec.interimResults = false;
      rec.maxAlternatives = 1;

      rec.onstart = () => {
        const s = document.getElementById("status-line");
        if (s) {
          const span = s.querySelector("span:last-child");
          if (span) span.textContent = t("statusListening");
        }
      };

      rec.onresult = (event) => {
        const transcript = event.results[0][0].transcript;
        const textarea = document.getElementById("user-input");
        if (textarea) {
          textarea.value = transcript;
        }
        const s = document.getElementById("status-line");
        if (s) {
          const span = s.querySelector("span:last-child");
          if (span) span.textContent = t("statusTextCaptured");
        }
      };

      rec.onerror = () => {
        const s = document.getElementById("status-line");
        if (s) {
          const span = s.querySelector("span:last-child");
          if (span) span.textContent = t("statusMicError");
        }
      };

      rec.onend = () => {
        const s = document.getElementById("status-line");
        if (s) {
          const span = s.querySelector("span:last-child");
          if (span) span.textContent = t("statusDemoActive");
        }
      };

      return rec;
    }

    function getSpeechLangCode(lang) {
      switch (lang) {
        case "en":
          return "en-US";
        case "pt":
          return "pt-BR";
        case "fr":
          return "fr-FR";
        case "it":
          return "it-IT";
        case "de":
          return "de-DE";
        default:
          return "es-MX";
      }
    }

    function initMicButton() {
      const micBtn = document.getElementById("mic-btn");
      if (!micBtn) return;

      recognition = setupSpeechRecognition();
      if (!recognition) {
        micBtn.style.display = "none";
        return;
      }

      micBtn.addEventListener("click", () => {
        try {
          recognition.start();
        } catch (e) {
          try {
            recognition.stop();
          } catch (e2) {}
        }
      });
    }

    function playTTSFromUrl(url) {
      try {
        const audio = new Audio(url);
        audio.play().catch(() => {});
      } catch (e) {}
    }

    async function requestTTSForText(text) {
      try {
        const resp = await fetch(TTS_URL, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({
            text,
            lang: currentLang,
          }),
        });
        if (!resp.ok) return;
        const data = await resp.json();
        if (data.ttsUrl) {
          playTTSFromUrl(data.ttsUrl);
        }
      } catch (e) {}
    }

    function initTTSToggle() {
      const ttsToggle = document.getElementById("tts-toggle");
      if (!ttsToggle) return;
      window.__esteborgTTSOn = false;

      ttsToggle.addEventListener("change", () => {
        window.__esteborgTTSOn = ttsToggle.checked;
        const s = document.getElementById("status-line");
        if (s) {
          const span = s.querySelector("span:last-child");
          if (span) {
            span.textContent = t(
              ttsToggle.checked ? "statusTTSOn" : "statusTTSOff"
            );
          }
        }
      });
    }

    // ========== UI INIT / LANGUAGE ==========
    function applyUILanguage(lang) {
      currentLang = lang || "es";

      const bannerMainEl = document.getElementById("i-banner-main");
      const bannerSubEl = document.getElementById("i-banner-sub");
      const bannerDescEl = document.getElementById("i-banner-desc");
      const panelTitleEl = document.getElementById("i-panel-title");
      const chipsLabelEl = document.getElementById("i-chips-label");
      const btnLessonEl = document.getElementById("i-btn-lesson");
      const btnEmotionEl = document.getElementById("i-btn-emotion");
      const btnChallengeEl = document.getElementById("i-btn-challenge");
      const contentLabelEl = document.getElementById("i-content-label");
      const btnSlidesEl = document.getElementById("i-btn-slides");
      const btnSummaryEl = document.getElementById("i-btn-summary");
      const inputEl = document.getElementById("user-input");
      const footerTitleEl = document.getElementById("i-footer-token-title");
      const footerTextEl = document.getElementById("i-footer-token-text");
      const chatNameEl = document.getElementById("i-chat-name");
      const chatRoleEl = document.getElementById("i-chat-role");
      const voiceToggleLabelEl = document.getElementById(
        "i-voice-toggle-label"
      );
      const voicePillEl = document.getElementById("i-voice-pill");
      const sendBtn = document.getElementById("send-btn");

      if (bannerMainEl) bannerMainEl.textContent = t("bannerMain");
      if (bannerSubEl) bannerSubEl.textContent = t("bannerSub");
      if (bannerDescEl) bannerDescEl.textContent = t("bannerDesc");
      if (panelTitleEl) panelTitleEl.textContent = t("panelTitle");
      if (chipsLabelEl) chipsLabelEl.textContent = t("chipsLabel");
      if (btnLessonEl) {
        btnLessonEl.textContent = t("btnLesson");
        btnLessonEl.setAttribute("data-text", t("btnLessonText"));
      }
      if (btnEmotionEl) {
        btnEmotionEl.textContent = t("btnEmotion");
        btnEmotionEl.setAttribute("data-text", t("btnEmotionText"));
      }
      if (btnChallengeEl) {
        btnChallengeEl.textContent = t("btnChallenge");
        btnChallengeEl.setAttribute("data-text", t("btnChallengeText"));
      }
      if (contentLabelEl) contentLabelEl.textContent = t("contentLabel");
      if (btnSlidesEl) {
        btnSlidesEl.textContent = t("btnSlides");
        btnSlidesEl.setAttribute("data-text", t("btnSlidesText"));
      }
      if (btnSummaryEl) {
        btnSummaryEl.textContent = t("btnSummary");
        btnSummaryEl.setAttribute("data-text", t("btnSummaryText"));
      }
      if (inputEl) {
        inputEl.placeholder = t("inputPlaceholder");
      }
      if (footerTitleEl) footerTitleEl.textContent = t("footerTokenTitle");
      if (footerTextEl) footerTextEl.textContent = t("footerTokenText");
      if (chatNameEl) chatNameEl.textContent = t("chatName");
      if (chatRoleEl) chatRoleEl.textContent = t("chatRole");
      if (voiceToggleLabelEl)
        voiceToggleLabelEl.textContent = t("voiceToggleLabel");
      if (voicePillEl) voicePillEl.textContent = t("voicePillLabel");
      if (sendBtn) sendBtn.textContent = t("sendButtonLabel");

      const langOptions = document.querySelectorAll(".lang-option");
      langOptions.forEach((opt) => {
        if (opt.getAttribute("data-lang") === currentLang) {
          opt.classList.add("active");
        } else {
          opt.classList.remove("active");
        }
      });
    }

    function initLanguageSwitcher() {
      const langOptions = document.querySelectorAll(".lang-option");
      langOptions.forEach((opt) => {
        opt.addEventListener("click", () => {
          const lang = opt.getAttribute("data-lang") || "es";
          applyUILanguage(lang);

          const chatLog = document.getElementById("chat-log");
          if (chatLog && lang === "es") {
            pushHiddenInstruction(
              "A partir de este punto, responde siempre en ESPA√ëOL latino, incluso si escribo algo en otro idioma."
            );
          }

          setStatus("statusLangCurrent");

          if (recognition) {
            recognition.lang = getSpeechLangCode(currentLang);
          }
        });
      });
    }

    function initChips() {
      const chipButtons = document.querySelectorAll(".chip-btn, .content-btn");
      const input = document.getElementById("user-input");
      if (!chipButtons || !input) return;

      chipButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          const text = btn.getAttribute("data-text");
          if (!text) return;
          input.value = text;
          input.focus();
        });
      });
    }

    function initSend() {
      const formInput = document.getElementById("user-input");
      const sendBtn = document.getElementById("send-btn");

      if (!formInput || !sendBtn) return;

      sendBtn.addEventListener("click", () => {
        const text = formInput.value.trim();
        if (!text) return;
        formInput.value = "";
        sendMessage(text);
      });

      formInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter" && !e.shiftKey) {
          e.preventDefault();
          const text = formInput.value.trim();
          if (!text) return;
          formInput.value = "";
          sendMessage(text);
        }
      });
    }

    // ========== RESIZE MESSAGE ==========
    function sendResize() {
      try {
        const height = document.documentElement.scrollHeight || document.body.scrollHeight;
        parent.postMessage(
          {
            type: "ESTEBORG_IFRAME_RESIZE",
            height,
          },
          "*"
        );
      } catch (e) {}
    }

    // ========== INIT ==========
    (function initEsteborgApp() {
      const chatLog = document.getElementById("chat-log");
      if (chatLog) {
        const first = document.createElement("div");
        first.className = "message assistant";
        const bubble = document.createElement("div");
        bubble.className = "message-bubble";
        bubble.textContent = t("welcomeMessage");
        first.appendChild(bubble);
        chatLog.appendChild(first);
      }

      initializeToken();
      applyUILanguage("es");
      initLanguageSwitcher();
      initChips();
      initSend();
      initTTSToggle();
      initMicButton();

      sendResize();
      window.addEventListener("resize", sendResize);

      const observer = new MutationObserver(function () {
        clearTimeout(window.__esteborgResizeTimer);
        window.__esteborgResizeTimer = setTimeout(sendResize, 80);
      });

      observer.observe(document.body, {
        childList: true,
        subtree: true,
        attributes: true,
      });
    })();
  </script>
</body>
</html>
